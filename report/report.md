## 系统整体架构
### MVC模式
本系统采用**MVC模式**设计前端-后端-数据库分离的三层整体设计，以保证系统具有较好的**可维护性**和**可扩展性**。

整体来说，系统架构自顶而下遵顼MVC三层架构设计：
1. View: 视图层，直接与用户交互图新界面，它对应的是系统的*前端*
2. Control: 业务逻辑层，负责接收并处理视图层的输入，并利用数据层间接访问数据，它对应的是系统的*后端*
3. Model: 数据层，直接与数据库交互，并为Control层提供经过封装的数据访问功能的，它对应的是系统的*数据库访问接口*

### 视图层：前端设计

在视图层我们采用基于现代HTML5-CSS3-ES6的技术栈以及前端框架Vue来构建特性丰富的Web2.0用户界面。

在视图层我们采用了基于**MVVM模式**的前端框架Vue.js以及Vue系列套件Vue-VueRouter-Vuex构建驱动*单页应用*。

我们通过复用基于Vue的组件库Vuetify来快速搭建风格统一、外观精美的基于Material Design UI设计的应用界面

我们引入著名的D3.js为数据可视化提供支持。

总的来说，我们主要的前端特性包括：
- 基于Vue-VueRouter-Vuex的MVVM前端模块
- 基于Vuetify组件库的Material Design风格前端界面
- 基于D3.js的数据可视化模块

### 业务逻辑层：后端设计

后端架构采用*微服务*架构，将系统业务构建为可以独立运行、独立测试、独立部署的微服务。

后端接口采用的是*RESTful接口*，将业务接口统一为无状态、标准化、缓存友好的RESTful风格接口。

我们基于RESTful API为系统的后台管理模块构建了一组通用的数据CRUD服务。

后端充当MVC中的Controller，既不直接操作数据库，也不直接渲染HTML页面，而是作为数据服务和M-V的中介模块。

在后端模块我们采用Python的轻量级Web框架Flask来支持基础的路由、HTTP请求响应以及Session。选用Python是快速开发，以及利用Python生态中优秀的数据分析和机器学习模块。

为避免后端代码直接使用SQL访问数据库，我们模仿Django框架构建了简易的ORM引擎，为后端代码提供抽象的、独立于具体数据库产品的数据库访问接口。

我们使用psycopg2库来在Python代码中嵌入并执行SQL语句，从而与OpenGauss数据库交互。

总结，我们的后端主要支持这些主要特性：
- 基于Flask的RESTful API
- RESTful数据管理CRUD服务
- 论坛基础功能服务
- 机器学习服务
- 数据分析服务
- 登录服务
- 简易ORM引擎
- 基于线程池的会话


### 数据库设计

数据建模以及数据库的逻辑设计已经在前面章节完成了，这里不再赘述。

在数据库产品选择上，我们使用的产品是OpenGauss。由于系统没有大规模、高可用的需求，我们没有采用数据库产品的复制特性以及集群。

为满足业务需要，我们在数据库服务端编程的*触发器*特新来实现自动的Tag访问日志纪录

出于性能的考虑，做了如下额外工作：
- 为所有unique列建立B树索引
- 基于Web应用读多写少的应用背景，我们对频繁执行的若干个连接查询建立物化视图

## 前端设计

### 基于Vue.js框架的前端模块

在前端设计中，我们采用基于现代HTML5-CSS3-ES6的技术栈以及前端框架Vue来构建特性丰富的Web2.0用户界面。

我们采用了基于**MVVM模式**的前端框架Vue.js以及Vue系列套件Vue-VueRouter-Vuex构建驱动*单页应用*。

单页应用意味着**前端模块很容易迁移为桌面应用、手机App以及小程序**，这正是本项目较好的可扩展性的重要体现。

Vue的核心特性是数据绑定以及配套的响应式渲染。


### Vuetify组件库与响应式设计

我们通过复用基于Vue的组件库Vuetify来快速搭建风格统一、外观精美的基于Material Design UI设计的应用界面。本项目复用了大量Vuetify组件来实现丰富的表单界面（日期选择器、文本框、选择栏）

响应式设计：利用CSS3媒介查询，自适应地根据手机、平板、PC屏幕的特点调整网页布局，从而生成跨媒介风格统一的界面的前端设计技术。

本项目基于Vuetify组件库的响应式栅格系统构建了跨手机-PC支持的应用界面：

![Post View PC]()

![Post View Phone]()

### D3.js数据可视化

我们引入著名的D3.js为数据可视化提供支持。

D3.js是以数据为中心的可视化库，它提供从原始数据到图标信息的数据绑定，最终渲染基于SVG。

本项目利用D3.js实现情感分类模块和热度统计模块的图表可视化。

![Emotion Pie]()

![Hot Value Plot]()




## 后端设计

### 

后端架构采用*微服务*架构，将系统业务构建为可以独立运行、独立测试、独立部署的微服务。

在我们的应用中，我们仅对服务进行了拆分，没有对数据库进行拆分。